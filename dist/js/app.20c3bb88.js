(function(){"use strict";var t={5242:function(t,e,n){var r=n(9242),o=n(3396),a=n(7139);const c={class:"app-grid"},l={class:"container py-3 mb-4 border-bottom"},i={class:"row"},u=(0,o._)("div",{class:"col col-sm-9"},[(0,o._)("h1",{class:"text-white"},"Super shop")],-1),s={class:"col col-sm-3"},d={class:"alert alert-default"},A={class:"text-white"},p={class:"text-white"},m={class:"container"},f={class:"row"},h={class:"col col-12 col-md-3"},v={class:"nav nav-pills flex-column mb-auto"},w={class:"col col-12 col-md-9"},b=(0,o._)("footer",{class:"py-3 m4-3 border-top"},[(0,o._)("div",{class:"container text-white"}," footer ")],-1);function g(t,e,n,r,g,y){const k=(0,o.up)("router-link"),Q=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("header",null,[(0,o._)("div",l,[(0,o._)("div",i,[u,(0,o._)("div",s,[(0,o._)("div",d,[(0,o._)("div",A,"In Cart: "+(0,a.zw)(t.count),1),(0,o._)("div",p,"Total: "+(0,a.zw)(t.total),1)])])])])]),(0,o._)("div",null,[(0,o._)("div",m,[(0,o._)("div",f,[(0,o._)("div",h,[(0,o._)("ul",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.menu,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{key:e,class:"nav-item"},[(0,o.Wm)(k,{to:{name:t.route},class:"nav-link text-white"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(t.title),1)])),_:2},1032,["to"])])))),128))])]),(0,o._)("main",w,[(0,o.Wm)(Q)])])])]),b])}var y=n(65),k={data(){return{menu:[{route:"home",title:"Home"},{route:"cart",title:"Cart"},{route:"order",title:"Checkout"}]}},computed:{...(0,y.Se)("cart",["count","total"])}},Q=n(89);const P=(0,Q.Z)(k,[["render",g]]);var I=P,x=n(2483);const j=(0,o._)("h1",{class:"text-white"},"Products",-1),R={class:"row"},z={class:"card"},C={class:"card-body"},N=(0,o._)("img",{src:"data:image/jpeg;base64,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",alt:""},null,-1),W=(0,o.Uk)("Read more"),X=(0,o._)("hr",null,null,-1),q=["onClick"],O=["onClick"];function D(t,e,n,r,c,l){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[j,(0,o._)("div",R,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.products,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col col-sm-4 mb-3 mt-3",key:e.id},[(0,o._)("div",z,[(0,o._)("div",C,[N,(0,o._)("h3",null,(0,a.zw)(e.title),1),(0,o._)("div",null,(0,a.zw)(e.price),1),(0,o.Wm)(i,{class:"text-info",to:{name:"product",params:{id:e.id}}},{default:(0,o.w5)((()=>[W])),_:2},1032,["to"]),X,t.inCart(e.id)?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:n=>t.remove(e.id),class:"btn btn-danger"}," Remove ",8,q)):((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",onClick:n=>t.add(e.id),class:"btn btn-info"}," Add to cart ",8,O))])])])))),128))])])}var T={computed:{...(0,y.Se)("products",{products:"all"}),...(0,y.Se)("cart",["inCart"])},methods:{...(0,y.nv)("cart",["add","remove"])}};const V=(0,Q.Z)(T,[["render",D]]);var E=V;const B=(0,o._)("h1",{class:"text-white"},"Cart",-1),U=(0,o._)("hr",null,null,-1),J={class:"table table-bordered table-hover text-white"},S=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Title"),(0,o._)("th",null,"Price"),(0,o._)("th",null,"Cnt"),(0,o._)("th",null,"Total"),(0,o._)("th",null,"Actions")])],-1),M=(0,o._)("td",null,[(0,o._)("button",{class:"btn btn-secondary me-1"},"-1"),(0,o._)("button",{class:"btn bg-info me-1"},"+1"),(0,o._)("button",{class:"btn btn-danger"},"X")],-1);function H(t,e,n,r,c,l){return(0,o.wg)(),(0,o.iD)("div",null,[B,U,(0,o._)("table",J,[S,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.productsDetailed,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.id},[(0,o._)("td",null,(0,a.zw)(t.title),1),(0,o._)("td",null,(0,a.zw)(t.price),1),(0,o._)("td",null,(0,a.zw)(t.cnt),1),(0,o._)("td",null,(0,a.zw)(t.price*t.cnt),1),M])))),128))])])])}var F={computed:{...(0,y.Se)("cart",["productsDetailed"])}};const Y=(0,Q.Z)(F,[["render",H]]);var K=Y;const L={key:0},_={class:"text-white"},Z=(0,o._)("span",{class:"text-white"},"Back to products",-1),G=(0,o._)("hr",null,null,-1),$={class:"alert alert-success"};function tt(t,e,n,r,c,l){const i=(0,o.up)("app-404");return l.hasProduct?((0,o.wg)(),(0,o.iD)("div",L,[(0,o._)("h1",_,(0,a.zw)(l.product.title),1),Z,G,(0,o._)("div",$,(0,a.zw)(l.product.price),1)])):((0,o.wg)(),(0,o.j4)(i,{key:1}))}const et=(0,o._)("h1",null,"Page not found",-1),nt=(0,o._)("hr",null,null,-1),rt=(0,o.Uk)(" Start from main page "),ot=[et,nt,rt];function at(t,e){return(0,o.wg)(),(0,o.iD)("div",null,ot)}const ct={},lt=(0,Q.Z)(ct,[["render",at]]);var it=lt,ut={components:{App404:it},computed:{...(0,y.Se)("products",{getItem:"item"}),routeId(){return this.$route.params.id},validId(){return/^[1-9]+\d*$/.test(this.routeId)},id(){return+this.routeId},product(){return this.getItem(this.id)},hasProduct(){return this.validId&&void 0!==this.product}}};const st=(0,Q.Z)(ut,[["render",tt]]);var dt=st;const At={class:"text-white"};function pt(t,e,n,r,a,c){return(0,o.wg)(),(0,o.iD)("div",At," Order ")}var mt={};const ft=(0,Q.Z)(mt,[["render",pt]]);var ht=ft;function vt(t,e,n,r,a,c){const l=(0,o.up)("app-404");return(0,o.wg)(),(0,o.j4)(l)}var wt={components:{App404:it}};const bt=(0,Q.Z)(wt,[["render",vt]]);var gt=bt;const yt=[{path:"/",name:"home",component:E},{path:"/cart",name:"cart",component:K},{path:"/product/:id",name:"product",component:dt},{path:"/order",name:"order",component:ht},{path:"/:any(.*)",component:gt}],kt=(0,x.p7)({history:(0,x.PO)("/"),routes:yt});var Qt=kt;const Pt="http://faceprog.ru/reactcourseapi/";async function It(t,e){let n=await fetch(Pt+t,e),r=await n.json();return r}var xt={namespaced:!0,state:{products:null},getters:{all:t=>t.products,item:t=>e=>t.products.find((t=>t.id===e))},mutations:{setProducts(t,e){t.products=e}},actions:{async load(t){let e=await It("products/all.php");t.commit("setProducts",e)}}},jt={namespaced:!0,state:{products:[],token:null},getters:{products:t=>t.products,inCart:t=>e=>t.products.some((t=>t.id===e)),productsDetailed(t,e,n,r){return t.products.map((t=>{let e=r["products/item"](t.id);return{...e,...t}}))},count:t=>t.products.length,total:(t,e)=>e.productsDetailed.reduce(((t,e)=>t+e.price*e.cnt),0)},mutations:{set(t,{cart:e,token:n}){t.products=e,t.token=n},add(t,e){t.products.push({id:e,cnt:1})},remove(t,e){t.products=t.products.filter((t=>t.id!==e))}},actions:{async load({commit:t}){let e=localStorage.getItem("CART_TOKEN"),{cart:n,needUpdate:r,token:o}=await It(`cart/load.php?token=${e}`);r&&localStorage.setItem("CART_TOKEN",o),t("set",{cart:n,token:o})},async add({commit:t,state:e,getters:n},r){if(!n.inCart(r)){let n=await It(`cart/add.php?token=${e.token}&id=${r}`);n&&t("add",r)}},async remove({commit:t,state:e,getters:n},r){if(n.inCart(r)){let n=await It(`cart/remove.php?token=${e.token}&id=${r}`);n&&t("remove",r)}}}},Rt=(0,y.MT)({modules:{products:xt,cart:jt},strict:!1});let zt=(0,r.ri)(I).use(Rt).use(Qt);Rt.dispatch("products/load").then((()=>{zt.mount("#app")})),Rt.dispatch("cart/load")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var c=1/0;for(s=0;s<t.length;s++){r=t[s][0],o=t[s][1],a=t[s][2];for(var l=!0,i=0;i<r.length;i++)(!1&a||c>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[i])}))?r.splice(i--,1):(l=!1,a<c&&(c=a));if(l){t.splice(s--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,c=r[0],l=r[1],i=r[2],u=0;if(c.some((function(e){return 0!==t[e]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var s=i(n)}for(e&&e(r);u<c.length;u++)a=c[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(s)},r=self["webpackChunkvue_202207_final"]=self["webpackChunkvue_202207_final"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5242)}));r=n.O(r)})();
//# sourceMappingURL=app.20c3bb88.js.map